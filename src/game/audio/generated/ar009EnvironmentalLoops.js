/**
 * Auto-generated by scripts/audio/generateAr009EnvironmentalSfx.js
 * Do not edit manually.
 */
export const AR009_ENVIRONMENTAL_LOOPS = [
  {
    "id": "sfx-ar-009-footsteps-concrete",
    "runtimeUrl": "/generated/audio/ar-009/ar-009-footsteps-concrete.wav",
    "loopStartSeconds": 0,
    "loopEndSeconds": 12,
    "durationSeconds": 12,
    "defaultVolume": 0.38,
    "routing": {
      "bus": "ambient",
      "type": "ambient-loop",
      "mixGroup": "infiltration_surface",
      "defaultVolume": 0.38,
      "tags": [
        "ar-009",
        "environment",
        "loop",
        "footsteps",
        "concrete"
      ],
      "stateGains": {
        "ambient": 0.28,
        "stealth": 0.42,
        "alert": 0.33,
        "combat": 0.18
      },
      "recommendedScenes": [
        "act2_corporate_infiltration",
        "memory_parlor"
      ]
    },
    "usage": "Looped concrete footstep bed for infiltration walk cycles.",
    "statistics": {
      "peak": 0.949999988079071,
      "rms": {
        "left": 0.1074484338313659,
        "right": 0.11346130802717218
      }
    }
  },
  {
    "id": "sfx-ar-009-footsteps-metal",
    "runtimeUrl": "/generated/audio/ar-009/ar-009-footsteps-metal.wav",
    "loopStartSeconds": 0,
    "loopEndSeconds": 12,
    "durationSeconds": 12,
    "defaultVolume": 0.4,
    "routing": {
      "bus": "ambient",
      "type": "ambient-loop",
      "mixGroup": "infiltration_surface",
      "defaultVolume": 0.4,
      "tags": [
        "ar-009",
        "environment",
        "loop",
        "footsteps",
        "metal"
      ],
      "stateGains": {
        "ambient": 0.26,
        "stealth": 0.44,
        "alert": 0.35,
        "combat": 0.2
      },
      "recommendedScenes": [
        "act2_corporate_infiltration",
        "act3_zenith_infiltration"
      ]
    },
    "usage": "Looped metallic walkway footstep bed with subtle resonance.",
    "statistics": {
      "peak": 0.949999988079071,
      "rms": {
        "left": 0.10496757924328257,
        "right": 0.11067167627041953
      }
    }
  },
  {
    "id": "sfx-ar-009-rain-ambience",
    "runtimeUrl": "/generated/audio/ar-009/ar-009-rain-ambience.wav",
    "loopStartSeconds": 0,
    "loopEndSeconds": 24,
    "durationSeconds": 24,
    "defaultVolume": 0.58,
    "routing": {
      "bus": "ambient",
      "type": "ambient-loop",
      "mixGroup": "weather_beds",
      "defaultVolume": 0.58,
      "tags": [
        "ar-009",
        "environment",
        "loop",
        "weather",
        "rain"
      ],
      "stateGains": {
        "ambient": 0.54,
        "stealth": 0.6,
        "alert": 0.68,
        "combat": 0.72
      },
      "recommendedScenes": [
        "act2_crossroads",
        "neon_district"
      ]
    },
    "usage": "Exterior rain ambience with occasional droplets for noir scenes.",
    "statistics": {
      "peak": 0.949999988079071,
      "rms": {
        "left": 0.14359538342141198,
        "right": 0.14089555548241972
      }
    }
  },
  {
    "id": "sfx-ar-009-neon-buzz",
    "runtimeUrl": "/generated/audio/ar-009/ar-009-neon-buzz.wav",
    "loopStartSeconds": 0,
    "loopEndSeconds": 18,
    "durationSeconds": 18,
    "defaultVolume": 0.34,
    "routing": {
      "bus": "ambient",
      "type": "ambient-loop",
      "mixGroup": "diegetic_layers",
      "defaultVolume": 0.34,
      "tags": [
        "ar-009",
        "environment",
        "loop",
        "neon",
        "electrical"
      ],
      "stateGains": {
        "ambient": 0.3,
        "stealth": 0.36,
        "alert": 0.44,
        "combat": 0.5
      },
      "recommendedScenes": [
        "act2_crossroads",
        "neon_district",
        "memory_parlor"
      ]
    },
    "usage": "Electrical signage hum with crackle accents for city alleys.",
    "statistics": {
      "peak": 0.949999988079071,
      "rms": {
        "left": 0.1614045121723407,
        "right": 0.1559104978918539
      }
    }
  },
  {
    "id": "sfx-ar-009-distant-city",
    "runtimeUrl": "/generated/audio/ar-009/ar-009-distant-city.wav",
    "loopStartSeconds": 0,
    "loopEndSeconds": 24,
    "durationSeconds": 24,
    "defaultVolume": 0.47,
    "routing": {
      "bus": "ambient",
      "type": "ambient-loop",
      "mixGroup": "district_beds",
      "defaultVolume": 0.47,
      "tags": [
        "ar-009",
        "environment",
        "loop",
        "city",
        "ambience"
      ],
      "stateGains": {
        "ambient": 0.5,
        "stealth": 0.48,
        "alert": 0.56,
        "combat": 0.64
      },
      "recommendedScenes": [
        "act2_crossroads",
        "act3_zenith_infiltration"
      ]
    },
    "usage": "Far skyline traffic and horn beds for open district exteriors.",
    "statistics": {
      "peak": 0.949999988079071,
      "rms": {
        "left": 0.1219257649449756,
        "right": 0.12119672326855857
      }
    }
  },
  {
    "id": "sfx-ar-009-terminal-hum",
    "runtimeUrl": "/generated/audio/ar-009/ar-009-terminal-hum.wav",
    "loopStartSeconds": 0,
    "loopEndSeconds": 18,
    "durationSeconds": 18,
    "defaultVolume": 0.31,
    "routing": {
      "bus": "ambient",
      "type": "ambient-loop",
      "mixGroup": "diegetic_layers",
      "defaultVolume": 0.31,
      "tags": [
        "ar-009",
        "environment",
        "loop",
        "terminal",
        "electronics"
      ],
      "stateGains": {
        "ambient": 0.28,
        "stealth": 0.32,
        "alert": 0.4,
        "combat": 0.46
      },
      "recommendedScenes": [
        "act2_corporate_infiltration",
        "memory_parlor",
        "act3_zenith_infiltration"
      ]
    },
    "usage": "Data terminal hum with intermittent glitch pulses.",
    "statistics": {
      "peak": 0.949999988079071,
      "rms": {
        "left": 0.22681102825659757,
        "right": 0.2204125807678047
      }
    }
  }
];

export async function registerAr009EnvironmentalLoops(audioManager) {
  const summary = { registered: 0, skipped: 0, failed: 0 };
  if (!audioManager || typeof audioManager.loadSound !== 'function') {
    return summary;
  }

  if (typeof audioManager.init === 'function') {
    try {
      await audioManager.init();
    } catch (error) {
      if (typeof console !== 'undefined' && console.warn) {
        console.warn('[registerAr009EnvironmentalLoops] AudioManager init failed', error);
      }
    }
  }

  const hasBuffer = typeof audioManager.hasBuffer === 'function'
    ? (id) => {
        try {
          return audioManager.hasBuffer(id);
        } catch (_) {
          return false;
        }
      }
    : () => false;

  for (const entry of AR009_ENVIRONMENTAL_LOOPS) {
    if (hasBuffer(entry.id)) {
      summary.skipped += 1;
      continue;
    }
    const routing = entry.routing ?? {};
    const options = {
      volume: entry.defaultVolume,
      type: routing.type || 'ambient-loop',
      bus: routing.bus || 'ambient',
      loop: true,
      loopStart: entry.loopStartSeconds,
      loopEnd: entry.loopEndSeconds,
    };
    if (routing.mixGroup) {
      options.mixGroup = routing.mixGroup;
    }
    if (routing.stateGains) {
      options.stateGains = routing.stateGains;
    }
    if (Array.isArray(routing.tags)) {
      options.tags = routing.tags;
    }
    if (Array.isArray(routing.recommendedScenes)) {
      options.recommendedScenes = routing.recommendedScenes;
    }
    try {
      await audioManager.loadSound(entry.id, entry.runtimeUrl, options);
      summary.registered += 1;
    } catch (error) {
      summary.failed += 1;
      if (typeof console !== 'undefined' && console.warn) {
        console.warn('[registerAr009EnvironmentalLoops] Failed to load loop', entry.id, error);
      }
    }
  }

  return summary;
}

